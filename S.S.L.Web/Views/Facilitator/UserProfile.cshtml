@model FacilitatorProfileViewModel
@using Microsoft.AspNet.Identity;
@using S.S.L.Web.Infrastructure.Extensions;
@{
    ViewBag.Title = "Profile";
    ViewBag.Heading = Model.Facilitator.FullName;
    ViewBag.SubHeading = "Profile";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<div class="col-lg-8">
    <div class="row mt-4">
        @{
            Html.RenderPartial("_Profile", Model.Facilitator);
        }
    </div>
    <div class="row animated slideInUp">
        <div class="col-lg-12 bg-white p-4 shadow">
            <div class="row shadow bg-white rounded p-3 mb-3">
                <h5 class="text-info mb-0">Mentees Corner</h5>

            </div>
            <div>
                @if (Model.Mentees.Any())
                {
                    <div class="row shadow bg-dark rounded p-2 mb-3 ">
                        <div class="col-md-3">
                            <p class="text-light m-0 text-sm">Name</p>
                        </div>
                        <div class="col-md-3">
                            <p class="text-light m-0 text-sm">Email</p>
                        </div>
                        <div class="col-md-2">
                            <p class="text-light m-0 text-sm">Mobile Number</p>
                        </div>
                        <div class="col-md-1">
                            <p class="text-light m-0 text-sm">Gender</p>
                        </div>
                        <div class="col-md-2">
                            <p class="text-light m-0 text-sm">Class Progress</p>

                        </div>
                    </div>
                    foreach (var mentee in Model.Mentees)
                    {
                        var user = mentee.User;

                        <div class="row shadow bg-light rounded p-2 mb-2 js-animate">
                            <div class="col-md-3">
                                <p class="text-muted m-0 text-sm">@user.FullName</p>
                            </div>
                            <div class="col-md-3 ">
                                <p class=" m-0 text-sm"><a href="mailto:@user.Email" class="text-muted">@user.Email</a></p>
                            </div>
                            <div class="col-md-2">
                                <p class="text-muted m-0 text-sm">@user.MobileNumber</p>
                            </div>
                            <div class="col-md-1 ">
                                <p class="text-muted m-0 text-sm">@user.Gender</p>
                            </div>

                            <div class="col-md-2 ">
                                @if (mentee.FinishedClasses)
                                {
                                    <span class="badge badge-info shadow">Done</span>
                                }
                                else
                                {
                                    <a href="#" class="badge badge-warning js-update-mentee" data-id="@user.Id">Mark as done</a>
                                }
                            </div>

                        </div>
                    }

                }

                else
                {
                    <div class="alert alert-light shadow">
                        <p class="text-center text-success mb-0">You don't have any mentees.</p>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
@if (User.Identity.GetUserId() == Model.Facilitator.Id.ToString())
{
    <div class="col-lg-2 col-md-2">
        <p class="ml-4 ">
            <a href="#" class="rounded-circle bg-dark p-4 shadow" data-target="#userModal" data-toggle="modal">
                <i class="fa fa-edit fa-lg text-gold"></i>
            </a>
        </p>

    </div>
}


@section scripts{
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Scripts/bootbox.min.js"></script>
    <script src="~/Scripts/App/mentee.js"></script>
    <script>
        $(function () {
            $(".js-animate").hover(function () {
                $(this).toggleClass("bg-dark")
            })
        })
    </script>

}


