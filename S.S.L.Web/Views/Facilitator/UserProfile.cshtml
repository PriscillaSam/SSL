@model FacilitatorProfileViewModel
@using Microsoft.AspNet.Identity;
@{
    ViewBag.Title = "Profile";
    ViewBag.Heading = Model.Facilitator.FullName;
    ViewBag.SubHeading = "Profile";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<div class="col-lg-8">
    <div class="row mt-4">
        @{
            Html.RenderPartial("_Profile", Model.Facilitator);
        }
    </div>
    <div class="row animated slideInUp" id="mentees">
        <div class="col-lg-12 bg-white p-4 shadow">
            <div class="row shadow bg-white rounded p-3 mb-3">
                <h5 class="text-info mb-0">Mentees Corner</h5>

            </div>
            @if (Model.Mentees.Any())
            {
                <div class="row">
                    <div class="user-row">
                        <ul class="shadow-sm bg-dark rounded p-2 mb-3 ">
                            <li class="text-light m-0 text-sm">Name</li>
                            <li class="text-light m-0 text-sm">Email</li>
                            <li class="text-light m-0 text-sm">Mobile Number</li>
                            <li class="text-light m-0 text-sm">Gender</li>
                            <li class="text-light m-0 text-sm">Class Progress</li>
                        </ul>
                        @foreach (var m in Model.Mentees)
                        {
                            var user = m.User;

                            <ul class="shadow-sm bg-light rounded p-2 mb-2 js-animate">

                                <li class="text-muted text-sm">@user.FullName</li>
                                <li class="text-muted m-0 text-sm">@user.Gender</li>
                                <li class="text-muted m-0 text-sm">@user.MobileNumber</li>
                                <li class=" m-0 text-sm"><a href="mailto:@user.Email" class="text-muted">@user.Email</a></li>

                                @if (m.FinishedClasses)
                                {
                                    <li><span class="badge badge-info shadow">Done</span></li>
                                }
                                else
                                {
                                    <li>
                                        <a href="#" class="badge badge-warning js-update-mentee" data-id="@user.Id">Mark as done</a>
                                    </li>
                                }
                            </ul>

                        }

                    </div>
                </div>


            }

            else
            {
                <div class="alert alert-light shadow">
                    <p class="text-center text-success mb-0">You don't have any mentees.</p>
                </div>
            }
        </div>
    </div>
</div>
@if (User.Identity.GetUserId() == Model.Facilitator.Id.ToString())
{
    <div class="col-lg-2 col-md-2">
        <p class="ml-4 ">
            <a href="#" class="rounded-circle bg-dark p-4 shadow" data-target="#userModal" data-toggle="modal">
                <i class="fa fa-edit fa-lg text-gold"></i>
            </a>
        </p>

    </div>
}


@section scripts{
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Scripts/bootbox.min.js"></script>
    <script src="~/Scripts/App/mentee.js"></script>
    <script>
        $(function () {
            $(".js-animate").hover(function () {
                $(this).toggleClass("bg-dark")
            })
        })
    </script>

}


